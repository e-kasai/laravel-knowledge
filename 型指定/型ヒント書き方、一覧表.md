---
tags:
  - "#型"
---

## **Laravel & PHP 型ヒントまとめ**

---

## ** PHPの型ヒントの書き方（Laravelでも共通）**

### **1. 引数の型 = 変数の前**
```php
public function store(StatefulGuard $auth)
```
- **`StatefulGuard`** → 型（クラス / インターフェース）  
- **`$auth`** → 変数名  
 `$auth` には必ず `StatefulGuard` 型のオブジェクトを渡す

```php
public function create(array $input)
```
- **`array`** → 型（組み込み型）  
- **`$input`** → 変数名  
 `$input` には必ず配列を渡す

---

### **2. 戻り値の型 = `)` の後**
```php
public function create(array $input): User
```
- **`: User`** → 戻り値型  
- 戻り値が必ず `User` 型であることを保証

```php
public function regenerate(): bool
```
- **`: bool`** → 戻り値型  
- true/false しか返せない

---

### **3. 両方つけるパターン**
```php
// loginだけでなくlogout(),attempt()も同じ型でOK 
use Illuminate\Contracts\Auth\StatefulGuard;
use App\Models\User;
public function login(StatefulGuard $auth, User $user): void

```
- 引数1 **`$auth`** → `StatefulGuard` 型  
- 引数2 **`$user`** → `User` 型  
- 戻り値 → **`void`**（何も返さない）

---

### **4. 型ヒントの種類**
| **種類** | **例** | **説明** |
|----------|--------|----------|
| **組み込み型** | `int`, `string`, `array`, `bool`, `object`, `callable` | PHP標準の型 |
| **クラス名 / インターフェース名** | `User`, `StatefulGuard` | 名前空間も必要なら `use` で指定 |
| **nullも許可** | `?User` | `User` または `null` を返す/受け取る |
| **複数型** | `User\|string` | どちらかの型を許可（PHP 8.0〜） |



---

## **Laravel 型ヒント時短表**

### **引数によく使う型**
| **型** | **例** | **説明** |
|--------|--------|----------|
| **`Request`** | `public function store(Request $request)` | HTTPリクエスト全体 |
| **`User`** | `public function update(User $user)` | Eloquentモデル（User） |
| **`StatefulGuard`** | `public function store(StatefulGuard $auth)` | ログイン可能なガード |
| **`Collection`** | `public function show(Collection $items)` | Eloquentのコレクション |
| **`array`** | `public function create(array $input)` | 配列 |
| **`Model`** | `public function edit(Model $model)` | 任意のEloquentモデル |

---

### **戻り値によく使う型**
| **型** | **例** | **説明** |
|--------|--------|----------|
| **`View`** | `public function index(): View` | Bladeビューを返す |
| **`RedirectResponse`** | `public function store(): RedirectResponse` | リダイレクトを返す |
| **`JsonResponse`** | `public function api(): JsonResponse` | JSONを返す |
| **`Response`** | `public function download(): Response` | ファイルDLやカスタムHTTP応答 |
| **`LengthAwarePaginator`** | `public function list(): LengthAwarePaginator` | ページネーション結果 |
| **`Paginator`** | `public function list(): Paginator` | ページネーション結果:simplePaginate()の場合 |
| **`User`** | `public function create(): User` | Eloquentモデルを返す |
| **`bool`** | `public function regenerate(): bool` | true/falseを返す |
| **`void`** | `public function login(): void` | 何も返さない |



---

### **よく使う use 文セット**
```php
use Illuminate\Http\Request;
use Illuminate\Contracts\View\View;
use Illuminate\Http\RedirectResponse;
use Illuminate\Http\JsonResponse;
use Illuminate\Http\Response;
use Illuminate\Contracts\Auth\StatefulGuard;
use Illuminate\Support\Collection;
use Illuminate\Contracts\Pagination\LengthAwarePaginator;
use Illuminate\Pagination\Paginator;   // ページネーション結果:simplePaginate()の場合
use Illuminate\Database\Eloquent\Model;
use App\Models\User;
```


