
---

ï¼‘ãƒ«ãƒ¼ãƒˆå®šç¾©
```
// routes/web.php
use App\Http\Controllers\StampCorrectionRequestController;

Route::get('/stamp_correction_request/list', [StampCorrectionRequestController::class, 'index'])
    ->name('stamp_correction_request.list');
```
âœ… status ã¯ã‚¯ã‚¨ãƒªãªã®ã§ã€ãƒ«ãƒ¼ãƒˆå®šç¾©ã« {status} ã¯ä¸è¦ã€‚


2 blade : URLã«ã‚¯ã‚¨ãƒªã‚’ã¤ã‘ã‚‹

```blade
<!-- resources/views/stamp_correction_request/list.blade.php -->
<div class="tabs">
//stamp_correction_request/list?status=pending ã¨ã‚¯ã‚¨ãƒªã‚’å®šç¾©
    <a href="{{ route('stamp_correction_request.list', ['status' => 'pending']) }}" 
       class="{{ $status === 'pending' ? 'active' : '' }}">æœªæ‰¿èª</a>


//stamp_correction_request/list?status=approved ã¨ã‚¯ã‚¨ãƒªã‚’å®šç¾©
    <a href="{{ route('stamp_correction_request.list', ['status' => 'approved']) }}" 
       class="{{ $status === 'approved' ? 'active' : '' }}">æ‰¿èªæ¸ˆã¿</a>
</div>

```


ã“ã®ã‚ˆã†ã«æ›¸ãã¨ç”Ÿæˆã•ã‚Œã‚‹URLã¯ğŸ‘‡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼š

è¡¨ç¤ºãƒ†ã‚­ã‚¹ãƒˆ	ã€€ã€€ã€€å®Ÿéš›ã®URL
æœªæ‰¿èª	ã€€ã€€ã€€ã€€/stamp_correction_request/list?status=pending
æ‰¿èªæ¸ˆã¿	ã€€ã€€ã€€ã€€/stamp_correction_request/list?status=approved

---

ï¼“ã€€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ : ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’å–å¾—ã—ã¦åˆ†å²ã™ã‚‹ã€€ï¼†ã€€View ã«æ¸¡ã—ã¦è¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹
```php
// app/Http/Controllers/StampCorrectionRequestController.php
public function index(Request $request)
{
    // â‘  ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—
    $status = $request->query('status');  // ä¾‹: 'pending' or 'approved'

    // â‘¡ çŠ¶æ…‹ã«å¿œã˜ã¦ãƒ‡ãƒ¼ã‚¿ã‚’çµã‚Šè¾¼ã¿
    $query = StampCorrectionRequest::query();

    if ($status === 'pending') {
        $query->where('approval_status', 'pending');
    } elseif ($status === 'approved') {
        $query->where('approval_status', 'approved');
    }

    $requests = $query->get();

    // â‘¢ ãƒ“ãƒ¥ãƒ¼ã«æ¸¡ã™
    return view('stamp_correction_request.list', compact('requests', 'status'));
}
```