
---

#### 作成手順

1. フォルダとファイルを作る

VSCodeで、app/Models の中にTraits フォルダを新規作成
その中にファイルを作成（例：AttendanceFormatTrait.php）

2. 中身を書く

例：
```php

//日付や時刻をフォーマットするトレイト

<?php

namespace App\Models\Traits;

use Illuminate\Database\Eloquent\Casts\Attribute;
use Carbon\Carbon;

trait AttendanceFormatTrait
{
    // 日付（06/01(木)）
    protected function date(): Attribute
    {
        return Attribute::make(
            get: fn ($value) => Carbon::parse($value)->translatedFormat('m/d(ddd)')
        );
    }

    // 出勤（09:00）
    protected function clockIn(): Attribute
    {
        return Attribute::make(
            get: fn ($value) => $value ? Carbon::parse($value)->format('H:i') : null
        );
    }

    // 退勤（18:00）
    protected function clockOut(): Attribute
    {
        return Attribute::make(
            get: fn ($value) => $value ? Carbon::parse($value)->format('H:i') : null
        );
    }

    // 休憩（分→1:00形式）
    protected function breakTime(): Attribute
    {
        return Attribute::make(
            get: fn ($value) => $value !== null
                ? sprintf('%d:%02d', floor($value / 60), $value % 60)
                : null
        );
    }

    // 合計（分→8:00形式）
    protected function workTime(): Attribute
    {
        return Attribute::make(
            get: fn ($value) => $value !== null
                ? sprintf('%d:%02d', floor($value / 60), $value % 60)
                : null
        );
    }
}
```

4. モデルで読み込む

クラスの中で use を宣言：
```php
use App\Models\Traits\AttendanceFormatTrait;
```

モデルファイルのuse HasFactory; のすぐ後に、以下を追加
```php
class Attendance extends Model
{
    use HasFactory, AttendanceFormatTrait;
```


完了！
これでBlade側はシンプルに：
```html
<td>{{ $attendance->date }}</td>
<td>{{ $attendance->clock_in }}</td>
<td>{{ $attendance->clock_out }}</td>
<td>{{ $attendance->break_time }}</td>
<td>{{ $attendance->work_time }}</td>
```

すべて自動で整形される

