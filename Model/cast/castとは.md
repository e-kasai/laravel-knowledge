---
tags: cast
---

#### å½¹å‰²
ãƒ¢ãƒ‡ãƒ«ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å–ã‚Šå‡ºã™ãƒ»è¨­å®šã™ã‚‹æ™‚ã«ã€æŒ‡å®šã—ãŸå‹ã«è‡ªå‹•å¤‰æ›ã—ã¦ãã‚Œã‚‹ä»•çµ„ã¿

ã¤ã¾ã‚Šã€
ã€ŒDBä¿å­˜ã®ãŸã‚ã®å‹æŒ‡å®šã€ã§ã¯ãªãã€
ã€Œã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å†…ã§æ‰±ã„ã‚„ã™ããƒ»è¡¨ç¤ºã—ã‚„ã™ãã™ã‚‹ãŸã‚ã®å‹æŒ‡å®šã€

---

## ã‚­ãƒ£ã‚¹ãƒˆãŒâ€œåŠ¹ãç¬é–“â€ã®å®Ÿä¾‹

### 1. integer ã‚­ãƒ£ã‚¹ãƒˆ

```php
protected $casts = [
    'status' => 'integer',
];
```

å‹ã®ä¸ä¸€è‡´ã§æ„å›³ã—ãªã„æ¯”è¼ƒãƒŸã‚¹ã‚’é˜²ã’ã‚‹
```php
//castãŒãªã„ã¨
// DBã« '1'ï¼ˆæ–‡å­—åˆ—ï¼‰ã¨ã—ã¦å…¥ã£ã¦ãŸå ´åˆ
$attendance->status === 1;   // falseï¼ˆå‹ãŒé•ã†ï¼‰æ–‡å­—åˆ—ã®ï¼‘ã¨æ•°å€¤ã®ï¼‘ã§ä¸ä¸€è‡´ã«ãªã‚‹

//ã“ã‚ŒãŒã‚ã‚‹ã¨ï¼š
$attendance->status === 1;   // trueï¼ˆæ•´æ•°ã«å¤‰æ›ã•ã‚Œã‚‹ï¼‰ã©ã¡ã‚‰ã‚‚æ•°å€¤ã®ï¼‘ã¨ã—ã¦ä¸€è‡´ã™ã‚‹
```

---

### 2. boolean ã‚­ãƒ£ã‚¹ãƒˆ
```php
protected $casts = [
    'is_approved' => 'boolean',
];
```

æ¡ä»¶åˆ†å²ã®ãƒã‚°ã‚’é˜²ã’ã‚‹
```php
//castãªã— =  '0' ã¨ã„ã†æ–‡å­—åˆ—ã§ã‚‚ã€Œtrueã€ã¨åˆ¤å®šã•ã‚Œã¦ã—ã¾ã†å¯èƒ½æ€§
if ($attendance->is_approved) { ... }

//castã‚ã‚Š = ã¡ã‚ƒã‚“ã¨ true / false ã®è«–ç†å€¤ã«ãªã‚‹
if ($attendance->is_approved) { ... }
```

---

### 3. datetime:H:i ã‚­ãƒ£ã‚¹ãƒˆ
```php
protected $casts = [
    'clock_in' => 'datetime:H:i',
];
```

è¡¨ç¤ºã‚’çµ±ä¸€ã§ãã‚‹ã€€(Bladeã§æ¯å› format('H:i') ã—ãªãã¦ã„ã„)
```php
//castãªã—
echo $attendance->clock_in;  // "2025-10-21 10:04:00"ï¼ˆãƒ•ãƒ«ã®æ—¥æ™‚ï¼‰

//castã‚ã‚Š
echo $attendance->clock_in;  // "10:04"ï¼ˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¸ˆã¿ã§è¡¨ç¤ºï¼‰
```

---

### 4. arrayã‚­ãƒ£ã‚¹ãƒˆ
```php
protected $casts = [
    'meta' => 'array',
];
```

JSONé…åˆ—ã‚’ãã®ã¾ã¾ä½¿ãˆã‚‹
```php

// DBã«ã¯ JSON: {"device":"PC","ip":"127.0.0.1"}ãŒå…¥ã£ã¦ã„ã‚‹å ´åˆ

// castãªã—ï¼š
$attendance->meta['device']; // âŒ ã‚¨ãƒ©ãƒ¼ï¼ˆstringãªã®ã§ï¼‰


// castã‚ã‚Šï¼š DBã®JSONã‚’è‡ªå‹•ã§é…åˆ—ã«å¤‰æ›ã—ã¦ãã‚Œã‚‹
$attendance->meta['device']; // âœ… "PC"
```


---

## ğŸ’¡ Laravel `$casts` å‹æŒ‡å®šä¸€è¦§ï¼ˆVer.10ä»¥é™ï¼‰

| å‹å | èª¬æ˜ | å…·ä½“ä¾‹ |
|------|------|---------|
| `integer` | æ•´æ•°ã¨ã—ã¦æ‰±ã† | `'status' => 'integer'` â†’ `"1"` â†’ `1` |
| `real` / `float` / `double` | å°æ•°ã¨ã—ã¦æ‰±ã† | `'price' => 'float'` â†’ `"12.50"` â†’ `12.5` |
| `decimal:2` | å°æ•°ç‚¹ä»¥ä¸‹ã‚’å›ºå®šï¼ˆå››æ¨äº”å…¥ï¼‰ | `'price' => 'decimal:2'` â†’ `12.506` â†’ `12.51` |
| `string` | æ–‡å­—åˆ—ã¨ã—ã¦æ‰±ã† | `'name' => 'string'` |
| `boolean` | true / false ã«å¤‰æ› | `'is_active' => 'boolean'` â†’ `"0"` â†’ `false` |
| `object` | JSONã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ› | `'meta' => 'object'` â†’ `{"a":1}` â†’ `stdClass` |
| `array` | JSONã‚’é…åˆ—ã«å¤‰æ› | `'meta' => 'array'` â†’ `{"a":1}` â†’ `['a' => 1]` |
| `collection` | JSONã‚’Collectionã«å¤‰æ› | `'data' => 'collection'` â†’ `collect([...])` |
| `date` | Carbonï¼ˆæ—¥ä»˜ã®ã¿ï¼‰ã§æ‰±ã† | `'date' => 'date'` â†’ `"2025-10-21"` â†’ `Carbon` |
| `datetime` / `datetime:H:i` | Carbonï¼ˆæ—¥æ™‚ï¼‰ã§æ‰±ã†ï¼è¡¨ç¤ºæ•´å½¢ | `'clock_in' => 'datetime:H:i'` |
| `timestamp` | UNIXã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã§æ‰±ã† | `'created_at' => 'timestamp'` |
| `encrypted` | å€¤ã‚’è‡ªå‹•ã§æš—å·åŒ–ã—ã¦ä¿å­˜ | `'token' => 'encrypted'` |
| `immutable_date` / `immutable_datetime` | CarbonImmutableã‚’ä½¿ã† | å¤‰æ›´ä¸å¯èƒ½ãªæ—¥æ™‚ |
| `AsStringable` | Laravelã®Stringableã‚¯ãƒ©ã‚¹ã§æ‰±ã† | æ–‡å­—åˆ—ãƒ¡ã‚½ãƒƒãƒ‰ãƒã‚§ãƒ¼ãƒ³ç”¨ |