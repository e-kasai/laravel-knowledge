
---

#### storage/app/publicに置いた画像を公開する

*シンボリックリンクをはる必要がある*
※シンボリックリンク = windowsでいうところのショートカットのようなイメージ
```bash
//projectルートからphpコンテナ内で実行
php artisan storage:link
```

---

#### なぜシンボリックリンクが必要？

Laravelのルールでは、外から直接アクセスできるのは `public` ディレクトリ配下だけ
`storage/app/public`はアプリケーション内部のフォルダなので、直接URLからアクセスできない。
だから`public`ディレクトリにアクセスしたときに`storage/app/public`にリンクさせる仕組みを作る


Laravelでの例

* サーバー内部で読む実際の場所：`storage/app/public`　←ここはURLからアクセスできない
![[Pasted image 20250905082813.png]]
* ブラウザ側から見たリンク（シンボリックリンク）：`public/storage` ←ここはURLからアクセスできる
![[Pasted image 20250905082721.png]]

---

#### シンボリックリンクがあるか確認

// src下から`ls -l public`を実行
```bash
ekasai@EKPC:~/project_files/flea_market/src$ ls -l public 
total 16 drwxrwxrwx 2 ekasai ekasai 4096 Sep 4 12:03 css 
-rwxrwxrwx 1 ekasai ekasai 0 Aug 25 09:46 favicon.ico drwxrwxrwx 2 ekasai ekasai 4096 Aug 29 10:18 img 
-rwxrwxrwx 1 ekasai ekasai 1710 Aug 25 09:46 index.php 
-rwxrwxrwx 1 ekasai ekasai 24 Aug 25 09:46 robots.txt 

// storage -> /var/www/storage/app/public とシンボリックリンクがあることがわかる
lrwxrwxrwx 1 ekasai ekasai 27 Aug 28 14:52 storage -> /var/www/storage/app/public
```
