## **1. `count()`**

---

- **単体モデル**のレコード数を数えるメソッド
    
- 集計結果だけを返す
    

### **例：単純な件数取得**

```php
// 商品ID=1の「いいね」件数を取得
$favCount = Favorite::where('item_id', 1)->count();  
dd($favCount); // int(5)
```

---

**用途**

- 1つのIDの件数だけサクッと知りたいとき
    
- ループで個別にカウントしたいとき
    

---

**デメリット**

- ループで多用すると **N+1問題** が発生  
    → 商品一覧で1商品ごとに `count()` する場合、商品数×1回のSQLが発行されて遅くなる。
    
**SQL発行回数(例えば商品が５個の場合）**

- 一覧取得: **1回**
    
- 件数取得: **商品ごとに5回**
    
- **合計: 6回**　　

---

**対策**
[[withCount()]] を使えば全モデルまとめてで１回のSQL発行で済む→速度が全然速い
[[withCount()]]