
---
#### やりたいこと
* 最初は“選択してください”が見える／選ぶと候補からは消える（実際の選択肢のみ）
![[Pasted image 20250909143420.png]]

---

#### やり方
* optionタグ に hidden を付ける
* hidden = プルダウンを開いたときにこの行を非表示にする

```html
<select name="payment_method" required>
    {{-- プレースホルダ（リストには出さない） --}}
    <option value=""
            disabled //サーバーに値を送らない
            hidden  //これを追加
            {{ old('payment_method', $selectedPayment ?? null) ? '' : 'selected' }}>
        選択してください
    </option>

    <option value="1" {{ old('payment_method', $selectedPayment ?? null) === "1" ? 'selected' : '' }}>
        コンビニ払い
    </option>
    <option value="2" {{ old('payment_method', $selectedPayment ?? null) === "2" ? 'selected' : '' }}>
        カード払い
    </option>
</select>
```

---

#### 解説

* 1 
```
{{ old('payment_method', $selectedPayment ?? null)
```
- まずはold('payment_method')が優先
- 次にnull演算子↓

[[null合体演算子]]
```php
$selectedPayment ?? null
```

* $selectedPayment が null じゃなければその値を返す。nullなら右側の null を返す

---

* 2 
```php
<option value="" disabled {{ $selectedPayment ? '' : 'selected' }}>
```
* 三項演算子
* $selectedPayment が存在するなら空文字（何もつけない）、存在しないなら "selected" を入れる。
* これで「まだ値が選ばれてない時だけこの option(選択してください) が初期選択される」って仕組みになってる
→ 未選択状態のときだけ '選択してください' が初期表示になる
